<comment>
# ...

<job>
problem_id = gr_Lorene_bns

<problem>
filename = /mnt/hyperion/_Data/GR-Athena++/bns_qc/initial_data/Lorene/Lorene_POLYTROPE/gamma2/Irrotation/EqualMass/equal_14vs14/G2_I14vs14_D4R33_45km/resu.d # Filenam$

# Atmosphere settings
rhoc = 0.00128  # energy density at centre of star
fatm = 1e-13  # set atmosphere rho to rho = rhomax * fatm
fthr = 1.0  # set point to atmosphere if rho < fthr*fatm*rhomax

<hydro>
gamma  = 2.00000      # ratio of specific heats Gamma
dfloor = 1.0e-50     # floor on density rho
pfloor = 1.0e-50     # floor on gas pressure p_gas
#k_adi = 100           # adiabat K, p_gas = K rho^Gamma
k_adi = 123.63657447688378

rho_min = 0     # junk
pgas_min = 0    # junk


<z4c>
#dt_assert_is_finite = 1   # whatever values, if zero / missing these tasks are not triggered
dt_wave_extraction =0.1
lapse_harmonic = 0.0
lapse_harmonicf = 1.0
lapse_oplog = 2.0
lapse_advect = 1.0
shift_eta = 0 # 0.3
shift_advect = 1.0

# Kreiss-Oliger dissipation parameter.
diss = 0.5
chi_div_floor = 1e-05
# Constraint damping factor 1.
damp_kappa1 = 0.02
# Constraint damping factor 2.
damp_kappa2 = 0.0
# Controls # of points on spherical grid
extraction_nlev = 20
# Extracted set: {l <= lmax && |m|<=l}
lmax = 8
extract_filename = wave_extraction

dt_assert_is_finite = 1.0
dt_wave_extraction = 0.5
extraction_radius_0 = 50
extraction_radius_1 = 60
extraction_radius_2 = 70
extraction_radius_3 = 80
extraction_radius_4 = 90
extraction_radius_5 = 100
extraction_radius_6 = 110
extraction_radius_7 = 120
extraction_radius_8 = 130
extraction_radius_9 = 140
extraction_radius_10 = 150

<output1>
file_type   = hdf5
variable    = prim
dt          = 0.5
ghost_zones = true
x3_slice = 0

<output2>
file_type   = hdf5
variable    = cons
dt          = 0.5
ghost_zones = true
x3_slice = 0

<output3>
file_type = hdf5
variable  = adm
dt        = 0.5
ghost_zones = true
x3_slice = 0

<output4>
file_type = hdf5
variable  = z4c
dt        = 0.5
ghost_zones = true
x3_slice = 0

<output5>

# Restart format.
file_type = rst
# Time increment between outputs
dt = 10

<output6>
file_type = hst
dt        = 0.5
# data_format=%.2g
data_format=%.2e

<time>
cfl_number = 0.25
tlim	   = 5.0
integrator = rk3  # time integration algorithm
xorder     = 5    # order of spatial reconstruction
ncycle_out = 1    # interval for stdout summary info


<trackers_extrema>  # =====================================
N_tracker = 2
filename = tra.ext

control_field = Z4c.alpha

ini_1_x1 = -15.1              # initial offset
ini_1_x2 = 0
ini_1_x3 = 0
minima_1 = true             # for update_strategy = 1
ref_level_1 = 8
ref_type_1 = 1              # 0: to the point, 1: sph. region
ref_zone_radius_1 = 10

ini_2_x1 =  15.1              # initial offset
ini_2_x2 =  0.0
ini_2_x3 =  0.0
minima_2 = true
ref_level_2 = 8
ref_type_2 = 1              # 0: to the point, 1: sph. region
ref_zone_radius_2 = 10

update_strategy = 1         # 0: based on dt, 1: based on quad interp.
# safety factor avoids taking too large step (multiple of local dx)
update_max_step_factor = 1
# =========================================================

<mesh>
num_threads = 8
refinement = none
numlevel = 10       # upper bound (tracker controls lev.)
# deref_count = 5

nx1    = 64        # number of cells in x-direction
x1min  = -32.0       # minimum x
x1max  =  32.0       # maximum x
ix1_bc = extrapolate_outflow  # left boundary
ox1_bc = extrapolate_outflow  # right boundary

nx2    = 64        # number of cells in y-direction
x2min  = -32.0       # minimum y
x2max  =  32.0       # maximum y
ix2_bc = extrapolate_outflow  # inner boundary
ox2_bc = extrapolate_outflow  # outer boundary

nx3    = 64        # number of cells in z-direction
x3min  = -32.0       # minimum z
x3max  =  32.0       # maximum z
ix3_bc = extrapolate_outflow  # lower boundary
ox3_bc = extrapolate_outflow  # upper boundary

<meshblock>
nx1 = 32
nx2 = 32
nx3 = 32

<refinement1>
x1min = -22.1  # rad = 8
x1max = -5.1
x2min = -10
x2max = 10
x3min = -10
x3max = 10
level = 8

<refinement2>
x1min = 5.1  # rad = 8
x1max = 25.1
x2min = -10
x2max = 10
x3min = -10
x3max = 10
level = 8

