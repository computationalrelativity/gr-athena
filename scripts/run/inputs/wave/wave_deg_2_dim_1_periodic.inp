<comment> # ===================================================================
# additional comments (such as e.g. compilation parameters go here)
# ...
# =============================================================================

<job> # =======================================================================
problem_id = wave_1d
# =============================================================================

<trackers_extrema>  # =========================================================
# control trackers based on field extrema

N_tracker = 1
filename = tra.ext

control_field = wave.auxiliary_ref_field

ini_1_x1          = 0 # initial offset
ini_1_x2          = 0
ini_1_x3          = 0
minima_1          = true  # for update_strategy = 1
ref_level_1       = 3
ref_type_1        = 1     # 0: to the point, 1: sph. region
ref_zone_radius_1 = 0.1

update_strategy = 1       # 0: based on dt, 1: based on quad interp.

# safety factor avoids taking too large step (multiple of local dx)
update_max_step_factor = 10

# max number of iterations to perform for interp method
iter_max = 250
# abs. tol. for step update
tol_ds = 1e-12
# take ds / interp_ds_fac during interpolation / interp
interp_ds_fac = 10
# =============================================================================

<time> # ======================================================================
cfl_number   = 0.2
tlim	     = 1
integrator   = rk4

ncycle_out   = 1
# =============================================================================

<mesh> # ======================================================================
# no. cell in dir, min/max x, inner/outer BC
nx1    = 128
x1min  = -1.0
x1max  = 1.0
ix1_bc = periodic
ox1_bc = periodic

nx2    = 1
x2min  = -1.0
x2max  = 1.0
ix2_bc = periodic
ox2_bc = periodic

nx3    = 1
x3min  = -1.0
x3max  = 1.0
ix3_bc = periodic
ox3_bc = periodic

refinement = adaptive
numlevel = 4  # <refinement> level + 1
#deref_count = 5

num_threads = 4
# =============================================================================

<meshblock> # =================================================================
nx1=16
nx2=16
nx3=16
# =============================================================================

<problem> # ===================================================================
c               = 1.0
# type of Sommerfeld condition to apply (if any)
use_Sommerfeld  = 0
debug_inspect_err = false
# =============================================================================

<refinement1> # ===============================================================
x1min =  -0.2
x1max =  0.2
x2min = -1.0
x2max = -1.0
x3min = -1.0
x3max =  1.0
level = 3
# =============================================================================

# dumped quantities ===========================================================
<output1>
file_type = rst
dt        = 100

<output2>
file_type   = hst
dt          = 0.1
data_format = %.18g

<output3>
file_type   = hdf5
variable    = wave
ghost_zones = true
dt          = 0.5
# x2_slice    = 0
# x3_slice    = 0

#
# :D
#